{% extends "base.html" %}

{% block title %} Records {% endblock %} {% block content %}
<h1>All Records</h1>

<p><a href = "{{url_for('create_record')}}">+ Create a New Record</a></p>

{% if records %}
<ul>
    {% for record in records %}
        <li>
            <strong><a href="{{ url_for('view_record', id=record.id) }}">{{ record.title }}</a></strong>
            
            <small>(Created: {{ record.created_at }})</small>
            
            {% if record.content %}
                <p>{{ record.content | truncate(75, True, '...') }}</p>
            {% endif %}
            
            <div style="margin-top: 5px; margin-bottom: 10px;">
                <a href="{{ url_for('edit_record', id=record.id) }}" class="btn btn-sm btn-primary">Edit</a>
                
                <form method="POST" action="{{ url_for('delete_record', id=record.id) }}" style="display:inline;">
                    <button type="submit" class="btn btn-sm btn-danger" 
                            onclick="return confirm('Are you sure you want to delete this record?');">
                        Delete
                    </button>
                </form>
            </div>
        </li>
        <hr>
    {% endfor %}
</ul>
{% else %}
    <p>No Records yet. Create your first one!</p>
{% endif %}
{% endblock %}